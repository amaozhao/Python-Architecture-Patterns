# 前言

软件的发展意味着，随着时间的推移，系统变得越来越复杂，并且需要越来越多的开发人员以协调的方式对其进行开发。随着尺寸的增加，一般的结构从那里出现。这种结构如果没有精心计划，可能会变得非常混乱且难以使用。

软件架构的挑战是规划和设计这种结构。精心设计的架构使不同的团队能够相互交互，同时清楚地了解自己的职责和目标。

系统架构的设计方式应使日常软件开发能够以最小的阻力进行，允许添加功能和扩展系统。实时系统中的架构也总是在不断变化，也可以调整和扩展，以一种经过深思熟虑和流畅的方式重塑不同的软件元素。

在本书中，我们将看到软件架构的不同方面，从顶层到支持更高视图的一些底层细节。本书分为四个部分，涵盖了生命周期中的所有不同方面：

- 在编写任何代码之前进行设计
- 使用经过验证的方法的架构模式
- 在实际代码中实现设计
- 正在进行的操作以涵盖更改，并验证一切都按预期工作

在本书中，我们将涵盖所有这些方面的不同技术。

## 这本书是给谁看的

本书适用于希望扩展其软件架构知识的软件开发人员，无论是希望扩展和巩固对复杂系统的直觉的经验丰富的开发人员，还是希望学习和提高能力、面对更大的系统和更广泛的能力的经验不足的开发人员。看法。

我们将使用 Python 编写的代码作为示例。尽管你不需要成为专家，但建议你了解一些 Python 的基本知识。

这本书涵盖的内容

[第1章](./Chapter-01.md)，软件架构简介，介绍了软件架构是什么以及它为何有用的主题，并展示了一个设计示例。

本书的第一部分涵盖了软件编写之前的设计阶段：

[第2章](./Part-1/Chapter-02.md)，API 设计，展示了设计有用的 API 的基础知识，这些 API 可以方便地抽象操作。

[第3章](./Part-1/Chapter-03.md)，数据建模，讨论存储系统的特殊性以及如何为应用程序设计适当的数据表示。

[第4章](./Part-1/Chapter-04.md)，数据层，讨论了存储数据的代码处理，以及如何使其适合用途。

接下来，我们将介绍一个涵盖可用的不同架构模式的部分，这些模式重用经过验证的结构：

[第5章](./Part-2/Chapter-05.md) “十二要素应用程序方法论”展示了该方法论如何包含在操作 Web 服务时非常有用并可以应用于各种情况的良好实践。

[第6章](./Part-2/Chapter-06.md)，Web 服务器结构，解释了 Web 服务以及在确定操作和软件设计时要考虑的不同元素。

[第7章](./Part-2/Chapter-07.md)，事件驱动结构，描述了另一种异步工作的系统，接收信息而不返回立即响应。

[第8章](./Part-2/Chapter-08.md)，高级事件驱动结构，解释了异步系统的更高级用法，以及可以创建的一些不同模式。

[第9章](./Part-2/Chapter-09.md)，微服务与单体应用，介绍了这两种用于复杂系统的架构，并讨论了它们的区别。

本书的实现部分介绍了代码是如何编写的：

[第10章](./Part-3/Chapter-10.md)，测试和 TDD，讨论了测试的基础知识以及如何在编码过程中使用测试驱动开发。

[第11章](./Part-3/Chapter-11.md)，包管理，介绍了创建可重用代码部分以及如何分发它们的过程。

最后，最后一节讨论正在进行的操作，其中系统正在运行并且需要同时进行调整和更改的监控：

[第12章](./Part-3/Chapter-12.md)，记录，描述了如何记录工作系统正在做什么。

[第13章](./Part-3/Chapter-13.md)，度量，讨论了聚合不同的值以查看整个系统的行为方式。

[第14章](./Part-3/Chapter-14.md)，Profiling，解释了如何理解代码是如何执行的以提高其性能。

[第15章](./Part-3/Chapter-15.md)，调试，介绍深入挖掘代码执行以查找和修复错误的过程。

[第16章](./Part-3/Chapter-16.md)，正在进行的架构，描述了如何在运行的系统上成功地操作架构更改。

## 为了充分利用这本书

- 本书使用 Python 语言编写代码示例，并假设读者能够轻松阅读，尽管不需要专家级别。
- 以前接触过具有多种服务的复杂系统将有助于理解软件架构所面临的不同挑战。对于具有几年或更多经验的开发人员来说，这应该很简单。
- 熟悉 Web 服务和 REST 接口有助于更好地理解某些元素。

## 下载示例代码文件

本书的代码包托管在 GitHub 上，地址为 https://github.com/PacktPublishing/Python-Architecture-Patterns。我们还有来自我们丰富的书籍和视频目录的其他代码包，可在 https://github.com/PacktPublishing/ 获得。去看一下！

## 下载彩色图像

我们还提供了一个 PDF 文件，其中包含本书中使用的屏幕截图/图表的彩色图像。你可以在这里下载：https://static.packt-cdn.com/downloads/9781801819992_ColorImages.pdf

## 使用的约定

本书通篇使用了许多文本约定。

CodeInText：表示文本中的代码字、对象名称、模块名称、文件夹名称、文件名、文件扩展名、路径名、虚拟 URL 和用户输入。这是一个示例：“对于这个配方，我们需要导入 requests 模块。”

一段代码设置如下：

```python
def leonardo(number):
    if number in (0, 1):
        return 1
    # EXAMPLE COMMENT
    return leonardo(number - 1) + leonardo(number - 2) + 1
```

请注意，为了简洁明了，可以编辑代码。必要时参考完整代码，可在 GitHub 上找到。

任何命令行输入或输出都写成如下（注意 $ 符号）：

```bash
$ python example_script.py parameters
```

Python 解释器中的任何输入都编写如下（注意 >>> 符号）。预期的输出将在没有 >>> 符号的情况下反映出来：

```python
>>> import logging
>>> logging.warning('This is a warning')
WARNING:root:This is a warning
```

要进入 Python 解释器，调用不带参数的 python3 命令：

```python
$ python3
Python 3.9.7 (default, Oct 13 2021, 06:45:31)
[Clang 13.0.0 (clang-1300.0.29.3)] on darwin
Type "help", "copyright", "credits" or "license" for more information.
>>>
```

任何命令行输入或输出的写法如下：

```sh
$ cp example.txt copy_of_example.txt
```

**粗体**：表示一个新词、一个重要词或你在屏幕上看到的词，例如在菜单或对话框中，也像这样出现在文本中。例如：“从管理面板中选择系统信息。”

> 警告或重要说明如下所示。

> 提示和技巧是这样出现的。

## 保持联系

我们的读者的反馈总是受欢迎的。

一般反馈：发送电子邮件至 feedback@packtpub.com，并在邮件主题中提及书名。如果你对本书的任何方面有任何疑问，请发送电子邮件至 questions@packtpub.com。

勘误表：尽管我们已尽一切努力确保内容的准确性，但确实会发生错误。如果你在本书中发现错误，请向我们报告，我们将不胜感激。请访问 http://www.packtpub.com/submit-errata，选择你的图书，单击勘误表提交表链接，然后输入详细信息。

盗版：如果你在互联网上发现任何形式的我们作品的非法复制品，请提供位置地址或网站名称，我们将不胜感激。请通过 copyright@packtpub.com 联系我们并提供材料链接。

如果你有兴趣成为一名作者：如果你对某个主题有专长，并且有兴趣撰写或投稿一本书，请访问 http://authors.packtpub.com。

## 分享你的意见

一旦你阅读了 Python 架构模式，我们很想听听你的想法！请单击此处直接进入本书的亚马逊评论页面并分享你的反馈。

你的评论对我们和技术社区很重要，将帮助我们确保我们提供优质的内容。